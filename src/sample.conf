<?xml version="1.0" encoding="utf8" standalone="yes"?>
<noit>
  <eventer implementation="kqueue" >
    <config>
      <default_queue_threads>10</default_queue_threads>
    </config>
  </eventer>
  <logs>
    <console_output>
      <outlet name="stderr" />
      <log name="error" />
      <log name="debug" disabled="true" />
    </console_output>
    <!--<log name="feed" type="jlog" path="/var/log/noitd.feed" />-->
    <log name="feed"><outlet name="stderr"/></log>
    <feeds>
      <outlet name="feed" />
      <log name="check">
        <outlet name="error" />
      </log>
      <log name="status" />
      <log name="metrics" />
    </feeds>
  </logs>
  <modules directory="./modules">
    <module image="ping_icmp" name="ping_icmp" />
    <http image="http">
      <module name="resmon" />
      <module name="resmon_part" />
      <module name="http" />>
    </http>
  </modules>
  <listeners>
    <consoles type="noit_console">
      <listener address="/tmp/noit">
        <config><line_protocol>telnet</line_protocol></config>
      </listener>
      <listener address="*" port="32322">
        <config><line_protocol>telnet</line_protocol></config>
      </listener>
      <listener address="*" port="32323">
        <sslconfig>
          <certificate_file>test.crt</certificate_file>
          <key_file>test.key</key_file>
        </sslconfig>
      </listener>
    </consoles>
  </listeners>
  <checks>
    <check uuid="1b4e28ba-2fa1-11d2-883f-b9b761bde3fb" module="ping_icmp" target="10.80.116.4" period="15000" timeout="14000"/>
    <dc1 timeout="30000" period="60000">
      <icmp module="ping_icmp" timeout="12000">
        <check uuid="1b4e28ba-2fa1-11d2-883f-b9a761bde3fb" target="66.225.209.7"/>
      </icmp>
      <web module="http" timeout="8000">
        <check uuid="1b4e28ba-2fa1-11d2-883f-b9a761bde3fc" target="66.225.209.31">
          <config>
            <url>http://ngm.nationalgeographic.com/ngm/ngm.html</url>
            <code>302</code>
          </config>
        </check>
        <check uuid="1b4e28ba-2fa1-11d2-883f-b9a761bde3ff" target="8.8.38.59">
          <config>
            <url>https://taskman.omniti.com/</url>
            <code>200</code>
          </config>
        </check>
      </web>
      <resmon module="resmon" period="30000" timeout="5000">
        <check uuid="1b4e28ba-2fa1-11d2-883f-b9a761bde3fd" timeout="2000" target="10.225.209.36"/>
        <parts module="resmon_part" period="0" timeout="1000" oncheck="resmon">
          <check uuid="1b4e28ba-2fa1-11d2-883f-b9a761bde3fe" target="10.225.209.36">
            <config>
              <resmon_module>FAULTS</resmon_module>
              <resmon_service>hardware</resmon_service>
            </config>
          </check>
        </parts>
      </resmon>
    </dc1>
  </checks>
</noit>
